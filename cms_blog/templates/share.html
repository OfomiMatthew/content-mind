{% extends 'base.html' %}

{% block title %}
  Share Post | {{ post.title }}
{% endblock title %}

{% block content %}
<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-half">
        {% if sent %}
          <!-- Success Message - More compact -->
          <div class="has-text-centered">
            <span class="icon is-large has-text-success mb-4">
              <i class="fas fa-check-circle fa-3x"></i>
            </span>
            <h1 class="title is-4">Shared successfully!</h1>
            <p class="subtitle is-5 my-4">
              "{{ post.title }}" was sent to {{ form.cleaned_data.to }}
            </p>
            <a href="{{ post.get_absolute_url }}" class="button is-text">
              ‚Üê Back to post
            </a>
          </div>
        {% else %}
          <!-- Share Form - More unified design -->
          <div class="box p-5">
            <h1 class="title is-4 has-text-centered mb-5">
              Share "{{ post.title }}"
            </h1>
            
            <form method="post" class="is-flex is-flex-direction-column" style="gap: 1.25rem">
              {% csrf_token %}
              
              <!-- Unified form fields -->
              <div class="is-flex is-flex-direction-column" style="gap: 1.25rem">
                {{ form.as_p }}
              </div>
              
              <!-- Submit button -->
              <button type="submit" class="button is-primary is-outlined">
               <span class="icon">
              <i class="fas fa-share"></i>
            </span>
            <span>Share this post</span>
              </button>
            </form>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<style>
  /* Minimal custom CSS for better form appearance */
  .box form input:not([type="submit"]),
  .box form textarea {
    width: 100%;
    padding: 0.75em;
    border: 1px solid #dbdbdb;
    border-radius: 4px;
    box-shadow: none;
  }
  
  .box form textarea {
    min-height: 120px;
  }
  
  .box form label {
    display: block;
    margin-bottom: 0.5em;
    font-weight: 600;
  }
</style>
{% endblock content %}